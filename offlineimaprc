# Sample minimal config file.  Copy this to ~/.offlineimaprc and edit to
# get started fast.
#
# To get started, copy one of these configurations to ~/.offlineimaprc:
# * minimal configuration:
#     cp -n /usr/local/Cellar/offline-imap/6.5.6/offlineimap.conf.minimal ~/.offlineimaprc
#
# * advanced configuration:
#     cp -n /usr/local/Cellar/offline-imap/6.5.6/offlineimap.conf ~/.offlineimaprc
#
# To have launchd start offline-imap at login:
#     ln -sfv /usr/local/opt/offline-imap/*.plist ~/Library/LaunchAgents
# Then to load offline-imap now:
#     launchctl load ~/Library/LaunchAgents/homebrew.mxcl.offline-imap.plist

# http://stevelosh.com/blog/2012/10/the-homely-mutt/#getting-email

[general]
ui = ttyui
accounts = Private,GAN.Andreas,GAN.Tech,GAN.Errors
pythonfile=~/dotfiles/offlineimap.py
fsync = False

# ====================
# Private
# ====================

[Account Private]
localrepository = Private-local
remoterepository = Private-remote
status_backend = sqlite
maxage = 30

[Repository Private-local]
type = GmailMaildir
localfolders = ~/.mail/mail@andreas-karlsson.com

[Repository Private-remote]
maxconnections = 1
type = Gmail
ssl = yes
sslcacertfile = /usr/local/etc/openssl/osx_cert.pem
remoteuser = mail@andreas-karlsson.com
remotepasseval = get_keychain_pass(account="mail@andreas-karlsson.com", server="imap.gmail.com")
realdelete = no
folderfilter = lambda folder: folder in ['INBOX',
                                         '[Gmail]/Sent Mail',
                                         '[Gmail]/All Mail'
                                        ]


# ====================
# GAN.Andreas
# ====================

[Account GAN.Andreas]
localrepository = GAN.Andreas-local
remoterepository = GAN.Andreas-remote
status_backend = sqlite
maxage = 30

[Repository GAN.Andreas-local]
type = Maildir
localfolders = ~/.mail/andreas@getanewsletter.com

[Repository GAN.Andreas-remote]
maxconnections = 1
type = IMAP
ssl = yes
cert_fingerprint = 816aa5a46b09cb40b3ad8396f97520430bd8dce5
remotehost = mail.getanewsletter.nu
remoteuser = andreas@getanewsletter.nu
remotepasseval = get_keychain_pass(account="andreas@getanewsletter.nu", server="mail.getanewsletter.nu")

# ====================
# GAN.Tech
# ====================

[Account GAN.Tech]
localrepository = GAN.Tech-local
remoterepository = GAN.Tech-remote
status_backend = sqlite
maxage = 30

[Repository GAN.Tech-local]
type = Maildir
localfolders = ~/.mail/tech@getanewsletter.com

[Repository GAN.Tech-remote]
maxconnections = 1
type = IMAP
ssl = yes
cert_fingerprint = 816aa5a46b09cb40b3ad8396f97520430bd8dce5
remotehost = mail.getanewsletter.nu
remoteuser = tech@getanewsletter.nu
remotepasseval = get_keychain_pass(account="tech@getanewsletter.nu", server="mail.getanewsletter.nu")

# ====================
# GAN.Errors
# ====================

[Account GAN.Errors]
localrepository = GAN.Errors-local
remoterepository = GAN.Errors-remote
status_backend = sqlite
#maxage = 120

[Repository GAN.Errors-local]
type = Maildir
localfolders = ~/.mail/errors@getanewsletter.com

[Repository GAN.Errors-remote]
maxconnections = 1
type = IMAP
ssl = yes
cert_fingerprint = 816aa5a46b09cb40b3ad8396f97520430bd8dce5
remotehost = mail.getanewsletter.nu
remoteuser = errors@getanewsletter.nu
remotepasseval = get_keychain_pass(account="errors@getanewsletter.nu", server="mail.getanewsletter.nu")
